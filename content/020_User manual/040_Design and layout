Description: Designing and customization of generated HTML using templates and template variables.

Setting up page layout is controlled by `Mako <https://www.makotemplates.org/>`_ templates. Pages may specify a template by setting **Template** header. All templates are located in **themes/<theme name>/templates** directory.

The following context/variables are available to the templates.

Template variables
******************

===================== ======================
Name                  Description
===================== ======================
\${absolute_url}      Absolute URL          
\${base_url}          Base URL              
\${page}              Page object, see below
\${page_titles}       Site setting, boolean 
\${site_dir}          /site/<environment>   
\${asset_dir}         /assets               
\${source_dir}        /content              
\${target_dir}        /site/<environment>/..
\${default_extension} Site setting, string  
\${tags}              List of tags          
\${categories}        List of categories    
\${sub_menu}          Page menu             
\${environment}       Environment name      
\${year}              yyyy                  
\${month}             mm                    
\${day}               dd                    
===================== ======================


.. note::

	For **page.previous_link** and **page.next_link** template variables, use page header **link_chain_exclude** to keep pages out of the link sequence.

Page object
***********

====================== =========================
Name                   Type
====================== =========================
page.absolute_url      String                   
page.base_url          String                   
page.children          List                     
page.content           String (html)            
page.crumb_trail       List                     
page.custom_headers    Dictionary               
page.default_extension String                   
page.environment       String                   
page.extension         String                   
page.headers           List                     
page.hook_environment  Dictionary               
page.html              String (html)            
page.markup            String (either rst or md)
page.menu              String (html)            
page.menu_title        String                   
page.next_page         Boolean or page object   
page.page_file_name    String                   
page.parent            Boolean or page object   
page.previous_page     Boolean or page object   
page.raw_headers       List                     
page.site_dir          String (Path)            
page.source_path       String (Path)            
page.target_dir        String (Path)            
page.target_path       String (Path)            
page.title             String                   
page.url_include_index Boolean                  
page.url_path          String (Path)            
====================== =========================


CSS, Javascript, images and stuff
*********************************

When generating the site all contents in the **assets** directory is copied to the output directory (see `Site generation </user-manual/site-generation>`_). Additionally the **themes/<theme name>/assets** directory is copied to the **ouput folder/assets/theme** directory. Add CSS, Javascript and images (or anything else) to these directories to have them included with the generated site.

HTML, CSS and Javascript may be minified by setting any of the following to options in **site.conf**.

* minify_html=True
* minify_css=True
* minify_javascript=True


SASS
****

Any **.sass** file in the templates/<template name>/assets directory will be automatically compiled to **.css**.


Site menu
*********

A key feature of Pagegen is that each page has a full site menu on each page. The menu can be customized as follows.

.. raw:: html

	<dl>
	  <dt>Absolute URLs</dt>
	  <dd><strong>site.conf</strong> setting <strong>absolute_urls</strong> toggles relative or absolute URLs in menu</dt>
	  <dt>Excluding pages</dt>
	  <dd>Pages with header <strong>Menu exclude</strong> are not removed from menu. Implication is that all children of Page are removed from menu also</dd>
	  <dt>Menu title</dt>
	  <dd>Pages with header <strong>Menu title</strong> appear with this value in menu</dd>
	  <dt>Order</dt>
	  <dd>Prefix file or directories in <strong>content directory</strong> with <strong>&lt;integer&gt;_</strong> to order menu items</dd>
	</dl>

